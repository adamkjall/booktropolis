{"version":3,"sources":["components/Card.js","components/SearchBox.js","components/NavBar.js","components/SignIn.js","common/services.js","actions.js","constants.js","containers/App.js","reducers.js","index.js"],"names":["Card","_ref","id","isFlipped","handleClick","book","title","description","book_image","rank","author","publisher","rank_last_week","weeks_on_list","primary_isbn13","amazon_product_url","react_default","a","createElement","className","onClick","react_card_flip_default","key","src","alt","href","target","rel","SearchBox","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","textInput","React","createRef","current","focus","_this$props","handleKeyPress","searchChange","type","placeholder","onChange","onKeyPress","event","ref","Component","Example","toggle","bind","assertThisInitialized","state","isOpen","setState","handleShowBestSellers","handleRouteChange","Navbar","color","light","expand","NavbarBrand","NavbarToggler","Collapse","navbar","Nav","NavItem","components_SearchBox","SignIn","validate","emailState","passwordState","e","test","value","_this2","Container","Form","Col","FormGroup","Input","name","minlength","maxlength","valid","invalid","required","validateEmail","Button","nyt_apiKey","fetchCurrentBestSellers","fetch","concat","then","response","json","data","results","books","dateToString","date","year","getFullYear","month","getMonth","day","getDate","hasImage","requestBestSellersByDate","dispatch","dateString","fetchBestSellersByDate","payload","catch","error","requestBooksBySearch","search","items","map","volumeInfo","undefined","authors","join","imageLinks","thumbnail","industryIdentifiers","identifier","filter","console","log","searchForBook","App","onRouteChange","route","onDateChange","newDate","onSetDate","onRequestBestSellersByDate","handleSearch","onRequestBooksBySearch","searchField","toLowerCase","inSearchMode","showBestSellers","Date","onRequestCurrentBestSellers","isSignedIn","UTC","setUTCDate","getUTCDate","getUTCDay","yearStart","getUTCFullYear","weekNo","Math","ceil","onSearchChange","onCardFlip","isPending","_this$getWeekNumber","getWeekNumber","_this$getWeekNumber2","slicedToArray","week","NavBar_Example","entry_default","style","format","minDetail","maxDate","clearIcon","showLeadingZeros","i","components_Card","components_SignIn","connect","searchBooks","changeDate","requestBooks","updateFlippedCards","updateDate","flipCard","initialStateSearch","initialStateDate","initialStateBooks","initialStateFlippedCards","prevCardId","logger","createLogger","rootReducer","combineReducers","arguments","length","action","objectSpread","cardId","newIsFlipped","slice","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","es","src_containers_App","document","getElementById"],"mappings":"4RAyEeA,EAtEF,SAAAC,GAA0C,IAAvCC,EAAuCD,EAAvCC,GAAIC,EAAmCF,EAAnCE,UAAWC,EAAwBH,EAAxBG,YAAaC,EAAWJ,EAAXI,KAExCC,EAUED,EAVFC,MACAC,EASEF,EATFE,YACAC,EAQEH,EARFG,WACAC,EAOEJ,EAPFI,KACAC,EAMEL,EANFK,OACAC,EAKEN,EALFM,UACAC,EAIEP,EAJFO,eACAC,EAGER,EAHFQ,cACAC,EAEET,EAFFS,eACAC,EACEV,EADFU,mBAGF,OACEC,EAAAC,EAAAC,cAAA,OACEhB,GAAIA,EACJiB,UAAU,2EACVC,QAAS,kBAAMhB,EAAYF,KAE3Bc,EAAAC,EAAAC,cAACG,EAAAJ,EAAD,CAAed,UAAWA,GACxBa,EAAAC,EAAAC,cAAA,OAAKI,IAAI,SACPN,EAAAC,EAAAC,cAAA,OACEC,UAAU,oBACVI,IAAKf,EACLgB,IAAI,eAENR,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,OACZH,EAAAC,EAAAC,cAAA,SAAIT,GAAQ,IAAMA,EAAO,KACxBH,KAKPU,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBAAkBG,IAAI,QACnCN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,OACZH,EAAAC,EAAAC,cAAA,SAAIT,GAAQ,IAAMA,EAAO,KACxBH,GAEHU,EAAAC,EAAAC,cAAA,MAAIC,UAAU,OAAd,KAAsBH,EAAAC,EAAAC,cAAA,aAAKR,IAC3BM,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAIX,GACJS,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MACZP,EACCI,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,2BADF,KAC0BN,GAExB,KACJI,EAAAC,EAAAC,cAAA,2BANF,IAMyBL,EANzB,IAMwCG,EAAAC,EAAAC,cAAA,WACtCF,EAAAC,EAAAC,cAAA,uBAPF,IAOqBP,EAPrB,IAOgCK,EAAAC,EAAAC,cAAA,WAC9BF,EAAAC,EAAAC,cAAA,kBARF,IAQgBJ,EARhB,IAQgCE,EAAAC,EAAAC,cAAA,WAC9BF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,KACEO,KAAMV,EACNW,OAAO,SACPC,IAAI,uBAHN,uFC/BCC,cAxBb,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,UAAYC,IAAMC,YAFNT,mFAMjBG,KAAKI,UAAUG,QAAQC,yCAGhB,IAAAC,EACkCT,KAAKJ,MAAtCc,EADDD,EACCC,eAAgBC,EADjBF,EACiBE,aACxB,OACE5B,EAAAC,EAAAC,cAAA,SACEC,UAAU,gEACV0B,KAAK,SACLC,YAAY,mBACZC,SAAUH,EACVI,WAAY,SAAAC,GAAK,OAAIN,EAAeM,IACpCC,IAAKjB,KAAKI,mBAnBMC,IAAMa,WCSTC,cACnB,SAAAA,EAAYvB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmB,IACjBtB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqB,GAAAhB,KAAAH,KAAMJ,KAEDwB,OAASvB,EAAKuB,OAAOC,KAAZvB,OAAAwB,EAAA,EAAAxB,CAAAD,IACdA,EAAK0B,MAAQ,CACXC,QAAQ,GALO3B,wEASjBG,KAAKyB,SAAS,CACZD,QAASxB,KAAKuB,MAAMC,0CAGf,IAAAf,EAMHT,KAAKJ,MAJPe,EAFKF,EAELE,aACAD,EAHKD,EAGLC,eACAgB,EAJKjB,EAILiB,sBACAC,EALKlB,EAKLkB,kBAEF,OACE5C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,CAAQC,MAAM,QAAQC,OAAK,EAACC,OAAO,MACjChD,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAa7C,QAAS,kBAAMwC,EAAkB,UAC5C5C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mCAAd,iBAEFH,EAAAC,EAAAC,cAACgD,EAAA,EAAD,CAAe/C,UAAU,MAAMC,QAASa,KAAKoB,SAC7CrC,EAAAC,EAAAC,cAACiD,EAAA,EAAD,CAAUV,OAAQxB,KAAKuB,MAAMC,OAAQW,QAAM,GACzCpD,EAAAC,EAAAC,cAACmD,EAAA,EAAD,CAAKlD,UAAU,UAAUiD,QAAM,GAC7BpD,EAAAC,EAAAC,cAACoD,EAAA,EAAD,CACElD,QAAS,WACPuC,IACAC,EAAkB,UAGpB5C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mCAAd,iBAIFH,EAAAC,EAAAC,cAACoD,EAAA,EAAD,CAASnD,UAAU,eACjBH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,+BAAd,eAGJH,EAAAC,EAAAC,cAACmD,EAAA,EAAD,CAAKlD,UAAU,UAAUiD,QAAM,GAC7BpD,EAAAC,EAAAC,cAACoD,EAAA,EAAD,KACEtD,EAAAC,EAAAC,cAACqD,EAAD,CACE3B,aAAcA,EACdD,eAAgBA,KAGpB3B,EAAAC,EAAAC,cAACoD,EAAA,EAAD,CAASlD,QAAS,kBAAMwC,EAAkB,cACxC5C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gCAAd,aAEFH,EAAAC,EAAAC,cAACoD,EAAA,EAAD,CAASlD,QAAS,kBAAMwC,EAAkB,YACxC5C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,4BAAd,qBAvDqBmB,IAAMa,iECoE5BqB,cAlEb,SAAAA,EAAY3C,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuC,IAChB1C,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyC,GAAApC,KAAAH,KAAMJ,KACD2B,MAAQ,CACXiB,SAAU,CACRC,WAAY,GACZC,cAAe,KALH7C,6EAUJ8C,GACZ,IACQH,EAAaxC,KAAKuB,MAAlBiB,SADS,wJAEFI,KAAKD,EAAElD,OAAOoD,OACzBL,EAASC,WAAa,cAEtBD,EAASC,WAAa,aAExBzC,KAAKyB,SAAS,CAAEe,8CAGX,IAAAM,EAAA9C,KACP,OACEjB,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CAAW7D,UAAU,gDACnBH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,OAAd,WACAH,EAAAC,EAAAC,cAAC+D,EAAA,EAAD,CAAM9D,UAAU,IACdH,EAAAC,EAAAC,cAACgE,EAAA,EAAD,KACElE,EAAAC,EAAAC,cAACiE,EAAA,EAAD,KACEnE,EAAAC,EAAAC,cAACkE,EAAA,EAAD,CACEvC,KAAK,OACLwC,KAAK,WACLnF,GAAG,iBACH4C,YAAY,WACZwC,UAAU,IACVC,UAAU,KACVC,MAA2C,gBAAnCvD,KAAKuB,MAAMiB,SAASC,WAC5Be,QAA6C,eAAnCxD,KAAKuB,MAAMiB,SAASC,WAC9BgB,UAAQ,EACR3C,SAAU,SAAC6B,GAAD,OAAOG,EAAKY,cAAcf,QAI1C5D,EAAAC,EAAAC,cAACgE,EAAA,EAAD,KACElE,EAAAC,EAAAC,cAACiE,EAAA,EAAD,KACEnE,EAAAC,EAAAC,cAACkE,EAAA,EAAD,CACEvC,KAAK,WACLwC,KAAK,WACLnF,GAAG,iBACH4C,YAAY,WACZwC,UAAU,IACVC,UAAU,KACVG,UAAQ,MAId1E,EAAAC,EAAAC,cAACgE,EAAA,EAAD,KACElE,EAAAC,EAAAC,cAACiE,EAAA,EAAD,KACEnE,EAAAC,EAAAC,cAAC0E,EAAA,EAAD,CAAQzE,UAAU,kBAAlB,oBA1DOmB,IAAMa,WCTrB0C,UAAa,oCAENC,EAA0B,WACrC,OAAOC,MAAK,qFAAAC,OAC2EH,IAEpFI,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GAAI,OAAIA,EAAKC,QAAQC,SAczBC,EAAe,SAAAC,GACnB,IAAMC,EAAOD,EAAKE,cAEZC,EACJH,EAAKI,WAAa,GAAK,KAAOJ,EAAKI,WAAa,GAAKJ,EAAKI,WAAa,EACnEC,EAAML,EAAKM,UAAY,GAAK,IAAMN,EAAKM,UAAYN,EAAKM,UAC9D,SAAAd,OAAUS,EAAV,KAAAT,OAAkBW,EAAlB,KAAAX,OAA2Ba,IAqC7B,SAASE,EAAS1G,GAChB,OAA2B,OAApBA,EAAKG,WCpDP,IAkBMwG,EAA2B,SAAAR,GAAI,OAAI,SAAAS,GAC9CA,EAAS,CAAEpE,KC/BwB,0BDgCnCoE,EAAS,CAAEpE,KC3BsB,wBFIG,SAAA2D,GACpC,IAAKA,EAAM,OAAOV,IAElB,IAAMoB,EAAaX,EAAaC,GAChC,OAAOT,MAAK,8CAAAC,OACoCkB,EADpC,oCAAAlB,OACiFH,IAE1FI,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GAAI,OAAIA,EAAKC,QAAQC,QCgB7Ba,CAAuBX,GACpBP,KAAK,SAAAG,GAAI,OAAIa,EAAS,CAAEpE,KCjCQ,wBDiCqBuE,QAAShB,MAC9DiB,MAAM,SAAAC,GAAK,OAAIL,EAAS,CAAEpE,KCjCK,uBDiCuBuE,QAASE,QAGvDC,EAAuB,SAAAC,GAAM,OAAI,SAAAP,GAC5CA,EAAS,CAAEpE,KCvCwB,0BDwCnCoE,EAAS,CAAEpE,KCnCsB,wBF6BN,SAAA2E,GAE3B,OAAOzB,MAAK,iDAAAC,OACuCwB,EADvC,gBAAAxB,OADM,GACN,SAAAA,OAJQ,4CAOjBC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GAAI,OACRA,EAAKqB,MAAMC,IAAI,SAAArH,GAAI,MAAK,CACtBC,MAAOD,EAAKsH,WAAWrH,MACvBC,YAAaF,EAAKsH,WAAWpH,YAC7BG,YAC8BkH,IAA5BvH,EAAKsH,WAAWE,QACZ,GACAxH,EAAKsH,WAAWE,QAAQC,KAAK,MACnCtH,gBACiCoH,IAA/BvH,EAAKsH,WAAWI,WACZ,KACA1H,EAAKsH,WAAWI,WAAWC,UACjCrH,UAAWN,EAAKsH,WAAWhH,UAC3BG,oBAC0C8G,IAAxCvH,EAAKsH,WAAWM,oBACZ,GACA5H,EAAKsH,WAAWM,oBAAoB,GAAGC,gBAGhDjC,KAAK,SAAAK,GAAK,OAAIA,EAAM6B,OAAOpB,KAC3BM,MAAMe,QAAQC,KCnBjBC,CAAcd,GACXvB,KAAK,SAAAG,GAAI,OAAIa,EAAS,CAAEpE,KCzCQ,wBDyCqBuE,QAAShB,MAC9DiB,MAAM,SAAAC,GAAK,OAAIL,EAAS,CAAEpE,KCzCK,uBDyCuBuE,QAASE,QEZ9DiB,cACJ,SAAAA,IAAc,IAAAzG,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAsG,IACZzG,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAwG,GAAAnG,KAAAH,QAWFuG,cAAgB,SAAAC,GACd3G,EAAK4B,SAAS,CAAE+E,MAAOA,KAbX3G,EAgBd4G,aAAe,SAAAC,GACb7G,EAAKD,MAAM+G,UAAUD,GACrB7G,EAAKD,MAAMgH,2BAA2BF,IAlB1B7G,EAqBdgH,aAAe,WACbhH,EAAKD,MAAMkH,uBAAuBjH,EAAKD,MAAMmH,YAAYC,gBAtB7CnH,EAyBda,eAAiB,SAAAM,GACG,UAAdA,EAAM3B,MACR8G,QAAQC,IAAI,aACZvG,EAAKgH,eACLhH,EAAK4B,SAAS,CAAEwF,cAAc,MA7BpBpH,EAiCdqH,gBAAkB,WAChBrH,EAAKD,MAAM+G,UAAU,IAAIQ,MACzBtH,EAAKD,MAAMwH,8BACXvH,EAAK4B,SAAS,CAAEwF,cAAc,KAlC9BpH,EAAK0B,MAAQ,CACX0F,cAAc,EACdT,MAAO,OACPa,WAAY,SALFxH,mFASZG,KAAKJ,MAAMwH,oEA8BC7C,IAEZA,EAAO,IAAI4C,KACTA,KAAKG,IAAI/C,EAAKE,cAAeF,EAAKI,WAAYJ,EAAKM,aAIhD0C,WAAWhD,EAAKiD,aAAe,GAAKjD,EAAKkD,aAAe,IAE7D,IAAIC,EAAY,IAAIP,KAAKA,KAAKG,IAAI/C,EAAKoD,iBAAkB,EAAG,IAExDC,EAASC,KAAKC,OAAOvD,EAAOmD,GAAa,MAAW,GAAK,GAE7D,MAAO,CAACnD,EAAKoD,iBAAkBC,oCAGxB,IAAAnH,EAQHT,KAAKJ,MANPmI,EAFKtH,EAELsH,eACAC,EAHKvH,EAGLuH,WACA3D,EAJK5D,EAIL4D,MACA4D,EALKxH,EAKLwH,UACA1D,EANK9D,EAML8D,KACArG,EAPKuC,EAOLvC,UAPKgK,EASclI,KAAKmI,cAAcnI,KAAKJ,MAAM2E,MAT5C6D,EAAAtI,OAAAuI,EAAA,EAAAvI,CAAAoI,EAAA,GASA1D,EATA4D,EAAA,GASME,EATNF,EAAA,GAUP,OACErJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACbH,EAAAC,EAAAC,cAACsJ,EAAD,CACE5H,aAAcoH,EACdrH,eAAgBV,KAAKU,eACrBgB,sBAAuB1B,KAAKkH,gBAC5BvF,kBAAmB3B,KAAKuG,gBAEJ,SAArBvG,KAAKuB,MAAMiF,MACTxG,KAAKuB,MAAM0F,aAsCVlI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAd,mBArCAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YAAd,oCACoCoJ,EADpC,IAC2C9D,EAAM,KAEjDzF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAACuJ,EAAAxJ,EAAD,CACEyJ,MAAO,CAAE5G,MAAO,QAChB3C,UAAU,6BACV4B,SAAUd,KAAKyG,aACf5D,MAAO0B,EACPmE,OAAO,YACPC,UAAU,SACVC,QAAS,IAAIzB,KACb1D,UAAU,EACVoF,UAAW,KACXC,kBAAkB,KAGtB/J,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iCACZ+I,EACClJ,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAd,cACEmF,EACFA,EAAMoB,IAAI,SAACrH,EAAM2K,GAAP,OACRhK,EAAAC,EAAAC,cAAC+J,EAAD,CACE3J,IAAK0J,EACL9K,GAAI8K,EACJ7K,UAAWA,EAAU6K,GACrB5K,YAAa6J,EACb5J,KAAMA,MAIVW,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UAAd,yBAOe,WAArBc,KAAKuB,MAAMiF,MACbzH,EAAAC,EAAAC,cAACgK,EAAD,MAEAlK,EAAAC,EAAAC,cAAA,8BAtHQoB,IAAMa,WA6HTgI,cA/IS,SAAA3H,GAAK,MAAK,CAChCwF,YAAaxF,EAAM4H,YAAYpC,YAC/BxC,KAAMhD,EAAM6H,WAAW7E,KACvBF,MAAO9C,EAAM8H,aAAahF,MAC1B4D,UAAW1G,EAAM8H,aAAapB,UAC9B5C,MAAO9D,EAAM8H,aAAahE,MAC1BnH,UAAWqD,EAAM+H,mBAAmBpL,YAGX,SAAA8G,GAAQ,MAAK,CACtC+C,eAAgB,SAAA/G,GAAK,OAAIgE,EFXY,CACrCpE,KCjBiC,sBDkBjCuE,QESiDnE,EAAMvB,OAAOoD,SAC9D8D,UAAW,SAAApC,GAAI,OAAIS,EFPK,SAAAT,GAAI,MAAK,CACjC3D,KCpByB,cDqBzBuE,QAASZ,GEKmBgF,CAAWhF,KACvC6C,4BAA6B,kBAAMpC,EFHU,SAAAA,GAC7CA,EAAS,CAAEpE,KCvBwB,0BDwBnCoE,EAAS,CAAEpE,KCnBsB,wBDoBjCiD,IACGG,KAAK,SAAAG,GAAI,OAAIa,EAAS,CAAEpE,KCzBQ,wBDyBqBuE,QAAShB,MAC9DiB,MAAM,SAAAC,GAAK,OAAIL,EAAS,CAAEpE,KCzBK,uBDyBuBuE,QAASE,SEDlEuB,2BAA4B,SAAArC,GAAI,OAAIS,EAASD,EAAyBR,KACtEuC,uBAAwB,SAAAvB,GAAM,OAAIP,EAASM,EAAqBC,KAChEyC,WAAY,SAAA/J,GAAE,OAAI+G,EFkBI,SAAA/G,GAAE,MAAK,CAC7B2C,KC3CuB,YD4CvBuE,QAASlH,GEpBkBuL,CAASvL,OAgIvBiL,CAGb5C,UCzJImD,EAAqB,CACzB1C,YAAa,IAYT2C,EAAmB,CACvBnF,KAAM,IAAI4C,MAYNwC,EAAoB,CACxB1B,WAAW,EACX5D,MAAO,GACPgB,MAAO,IAgBHuE,EAA2B,CAC/B1L,UAAW,GACX2L,YAAa,GCvCTC,UAASC,0BAETC,EAAcC,YAAgB,CAClCd,YDPyB,WAA6C,IAA5C5H,EAA4C2I,UAAAC,OAAA,QAAAxE,IAAAuE,UAAA,GAAAA,UAAA,GAApCT,EAAoBW,EAAgBF,UAAAC,OAAA,QAAAxE,IAAAuE,UAAA,GAAAA,UAAA,GAAP,GAC/D,OAAQE,EAAOxJ,MACb,IFhB+B,sBEiB7B,OAAOd,OAAAuK,EAAA,EAAAvK,CAAA,GAAKyB,EAAZ,CAAmBwF,YAAaqD,EAAOjF,UACzC,QACE,OAAO5D,ICGX8H,aDoB0B,WAA4C,IAA3C9H,EAA2C2I,UAAAC,OAAA,QAAAxE,IAAAuE,UAAA,GAAAA,UAAA,GAAnCP,EAAmBS,EAAgBF,UAAAC,OAAA,QAAAxE,IAAAuE,UAAA,GAAAA,UAAA,GAAP,GAC/D,OAAQE,EAAOxJ,MACb,IFxCiC,wBEyC/B,OAAOd,OAAAuK,EAAA,EAAAvK,CAAA,GAAKyB,EAAZ,CAAmB0G,WAAW,IAChC,IFzCiC,wBE0C/B,OAAOnI,OAAAuK,EAAA,EAAAvK,CAAA,GAAKyB,EAAZ,CAAmB0G,WAAW,EAAO5D,MAAO+F,EAAOjF,UACrD,IF1CgC,uBE2C9B,OAAOrF,OAAAuK,EAAA,EAAAvK,CAAA,GAAKyB,EAAZ,CAAmB0G,WAAW,EAAO5C,MAAO+E,EAAOjF,UACrD,QACE,OAAO5D,IC5BX6H,WDIwB,WAA2C,IAA1C7H,EAA0C2I,UAAAC,OAAA,QAAAxE,IAAAuE,UAAA,GAAAA,UAAA,GAAlCR,EAAkBU,EAAgBF,UAAAC,OAAA,QAAAxE,IAAAuE,UAAA,GAAAA,UAAA,GAAP,GAC5D,OAAQE,EAAOxJ,MACb,IF3BuB,cE4BrB,OAAOd,OAAAuK,EAAA,EAAAvK,CAAA,GAAKyB,EAAZ,CAAmBgD,KAAM6F,EAAOjF,UAClC,QACE,OAAO5D,ICRX+H,mBDoCgC,WAG7B,IAFH/H,EAEG2I,UAAAC,OAAA,QAAAxE,IAAAuE,UAAA,GAAAA,UAAA,GAFKN,EACRQ,EACGF,UAAAC,OAAA,QAAAxE,IAAAuE,UAAA,GAAAA,UAAA,GADM,GAET,OAAQE,EAAOxJ,MACb,IFzDqB,YE0DnB,IAAM0J,EAASF,EAAOjF,QAChBoF,EAAehJ,EAAMrD,UAAUsM,QAOrC,OALAD,EAAaD,IAAWC,EAAaD,IAEX,IAAtB/I,EAAMsI,YAAqBS,IAAW/I,EAAMsI,aAC9CU,EAAahJ,EAAMsI,aAAeU,EAAaD,IAE1CxK,OAAAuK,EAAA,EAAAvK,CAAA,GAAKyB,EAAZ,CAAmBrD,UAAWqM,EAAcV,WAAYS,IAC1D,IFlE+B,sBEmE7B,OAAOxK,OAAAuK,EAAA,EAAAvK,CAAA,GAAKyB,EAAZ,CAAmBrD,UAAW,GAAI2L,YAAa,IACjD,QACE,OAAOtI,MCpDPkJ,EAAQC,YACZV,EACAW,YAAgBC,IAAiBd,IAGnCe,IAASC,OACP/L,EAAAC,EAAAC,cAAC8L,EAAA,EAAD,CAAUN,MAAOA,GACf1L,EAAAC,EAAAC,cAAC+L,EAAD,OAEFC,SAASC,eAAe","file":"static/js/main.f628861a.chunk.js","sourcesContent":["import React from \"react\";\r\nimport ReactCardFlip from \"react-card-flip\";\r\n\r\nconst Card = ({ id, isFlipped, handleClick, book }) => {\r\n  const {\r\n    title,\r\n    description,\r\n    book_image,\r\n    rank,\r\n    author,\r\n    publisher,\r\n    rank_last_week,\r\n    weeks_on_list,\r\n    primary_isbn13,\r\n    amazon_product_url\r\n  } = book;\r\n\r\n  return (\r\n    <div\r\n      id={id}\r\n      className=\"bg-light-gray br3 ba b--black ma2 w-70 w-40-m w5-l shadow-5 grow pointer\"\r\n      onClick={() => handleClick(id)}\r\n    >\r\n      <ReactCardFlip isFlipped={isFlipped}>\r\n        <div key=\"front\">\r\n          <img\r\n            className=\"br3 br--top w-100\"\r\n            src={book_image}\r\n            alt=\"book cover\"\r\n          />\r\n          <div className=\"pa2\">\r\n            <h2 className=\"mv0\">\r\n              <b>{rank && \"#\" + rank + \" \"}</b>\r\n              {title}\r\n            </h2>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"br3 br--top pa3\" key=\"back\">\r\n          <div className=\"pa2\">\r\n            <h1 className=\"mv0\">\r\n              <b>{rank && \"#\" + rank + \" \"}</b>\r\n              {title}\r\n            </h1>\r\n            <h3 className=\"mv1\">By<b> {author}</b></h3>\r\n            <hr />\r\n            <p>{description}</p>\r\n            <hr />\r\n            <div className=\"tl\">\r\n              {rank_last_week ? (\r\n                <div>\r\n                  <b>Rank last week</b>: {rank_last_week}\r\n                </div>\r\n              ) : null}\r\n              <b>Weeks on list:</b> {weeks_on_list} <br />\r\n              <b>Publisher:</b> {publisher} <br />\r\n              <b>ISBN:</b> {primary_isbn13} <br />\r\n              <br />\r\n              <a\r\n                href={amazon_product_url}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                Get it on Amazon\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </ReactCardFlip>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\n\r\nclass SearchBox extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.textInput = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.textInput.current.focus();\r\n  }\r\n\r\n  render() {\r\n    const { handleKeyPress, searchChange } = this.props;\r\n    return (\r\n      <input\r\n        className=\"bg-lightest-blue br3 ba b--black bw1 pa1 mt3 mt2-l mr3 shadow\"\r\n        type=\"search\"\r\n        placeholder=\"Search for books\"\r\n        onChange={searchChange}\r\n        onKeyPress={event => handleKeyPress(event)}\r\n        ref={this.textInput}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBox;\r\n","import React from \"react\";\r\nimport {\r\n  Collapse,\r\n  Navbar,\r\n  NavbarToggler,\r\n  NavbarBrand,\r\n  Nav,\r\n  NavItem\r\n} from \"reactstrap\";\r\nimport SearchBox from \"./SearchBox\";\r\n\r\nexport default class Example extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n    this.state = {\r\n      isOpen: false\r\n    };\r\n  }\r\n  toggle() {\r\n    this.setState({\r\n      isOpen: !this.state.isOpen\r\n    });\r\n  }\r\n  render() {\r\n    const {\r\n      searchChange,\r\n      handleKeyPress,\r\n      handleShowBestSellers,\r\n      handleRouteChange\r\n    } = this.props;\r\n    return (\r\n      <div>\r\n        <Navbar color=\"muted\" light expand=\"lg\">\r\n          <NavbarBrand onClick={() => handleRouteChange(\"home\")}>\r\n            <h1 className=\"f-subheadline-ns f1 ma0 pointer\">Booktropolis</h1>\r\n          </NavbarBrand>\r\n          <NavbarToggler className=\"mt3\" onClick={this.toggle} />\r\n          <Collapse isOpen={this.state.isOpen} navbar>\r\n            <Nav className=\"ml-auto\" navbar>\r\n              <NavItem\r\n                onClick={() => {\r\n                  handleShowBestSellers();\r\n                  handleRouteChange(\"home\");\r\n                }}\r\n              >\r\n                <h1 className=\"f2-ns f3 ma0 mr3 bb bw1 pointer\">\r\n                  Best sellers\r\n                </h1>\r\n              </NavItem>\r\n              <NavItem className=\"mt-auto mr3\">\r\n                <h1 className=\"f2-ns f3 ma0 bb bw1 pointer\">Favorites</h1>\r\n              </NavItem>\r\n            </Nav>\r\n            <Nav className=\"ml-auto\" navbar>\r\n              <NavItem>\r\n                <SearchBox\r\n                  searchChange={searchChange}\r\n                  handleKeyPress={handleKeyPress}\r\n                />\r\n              </NavItem>\r\n              <NavItem onClick={() => handleRouteChange(\"register\")}>\r\n                <h1 className=\"f3-ns f4 ma0 mt1 mr3 pointer\">Register</h1>\r\n              </NavItem>\r\n              <NavItem onClick={() => handleRouteChange(\"signIn\")}>\r\n                <h1 className=\"f3-ns f4 ma0 mt1 pointer\">Login</h1>\r\n              </NavItem>\r\n            </Nav>\r\n          </Collapse>\r\n        </Navbar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Container,\r\n  Col,\r\n  Form,\r\n  FormGroup,\r\n  FormText,\r\n  Label,\r\n  Input,\r\n  Button\r\n} from \"reactstrap\";\r\n\r\nclass SignIn extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      validate: {\r\n        emailState: \"\",\r\n        passwordState: \"\",\r\n      },\r\n    }\r\n  }\r\n  \r\n  validateEmail(e) {\r\n    const emailRex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    const { validate } = this.state;\r\n      if (emailRex.test(e.target.value)) {\r\n        validate.emailState = 'has-success'\r\n      } else {\r\n        validate.emailState = 'has-danger'\r\n      }\r\n      this.setState({ validate })\r\n    }\r\n\r\n  render() {\r\n    return (\r\n      <Container className=\"mv5 ba br3 bw1 shadow pa3 w-40-l w-60-m w-70\">\r\n        <h2 className=\"mb4\">Sign in</h2>\r\n        <Form className=\"\">\r\n          <Col>\r\n            <FormGroup>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"username\"\r\n                id=\"signInUsername\"\r\n                placeholder=\"Username\"\r\n                minlength=\"4\"\r\n                maxlength=\"20\"\r\n                valid={ this.state.validate.emailState === 'has-success' }\r\n                invalid={ this.state.validate.emailState === 'has-danger' }\r\n                required\r\n                onChange={(e) => this.validateEmail(e)}\r\n              />\r\n            </FormGroup>\r\n          </Col>\r\n          <Col>\r\n            <FormGroup>\r\n              <Input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                id=\"signInPassword\"\r\n                placeholder=\"Password\"\r\n                minlength=\"6\"\r\n                maxlength=\"25\"\r\n                required\r\n              />\r\n            </FormGroup>\r\n          </Col>\r\n          <Col>\r\n            <FormGroup>\r\n              <Button className=\"w-100 bg-green\">LOGIN</Button>\r\n            </FormGroup>\r\n          </Col>\r\n        </Form>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SignIn;\r\n","/*************************** \r\n NEW YORK TIMES API\r\n****************************/\r\nconst nyt_apiKey = \"IoNgBtPcB2BAFBogGs0w6VxskM9amKDP\";\r\n\r\nexport const fetchCurrentBestSellers = () => {\r\n  return fetch(\r\n    `https://api.nytimes.com/svc/books/v3/lists/current/hardcover-fiction.json?api-key=${nyt_apiKey}`\r\n  )\r\n    .then(response => response.json())\r\n    .then(data => data.results.books);\r\n};\r\n\r\nexport const fetchBestSellersByDate = date => {\r\n  if (!date) return fetchCurrentBestSellers();\r\n\r\n  const dateString = dateToString(date);\r\n  return fetch(\r\n    `https://api.nytimes.com/svc/books/v3/lists/${dateString}/hardcover-fiction.json?api-key=${nyt_apiKey}`\r\n  )\r\n    .then(response => response.json())\r\n    .then(data => data.results.books);\r\n};\r\n\r\nconst dateToString = date => {\r\n  const year = date.getFullYear();\r\n  // increment month by one because getMonth() starts from zero\r\n  const month =\r\n    date.getMonth() < 10 ? \"0\" + (date.getMonth() + 1) : date.getMonth() + 1;\r\n  const day = date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate();\r\n  return `${year}-${month}-${day}`;\r\n};\r\n\r\n/*************************** \r\n GOOGLE BOOKS API\r\n****************************/\r\nconst google_apiKey = \"AIzaSyB9wQyJ2N2x9z15nzvO5g-9o-eV_ZLkOkI\";\r\n\r\nexport const searchForBook = search => {\r\n  const maxResult = 20;\r\n  return fetch(\r\n    `https://www.googleapis.com/books/v1/volumes?q=${search}&maxResults=${maxResult}&key=${google_apiKey}`\r\n  )\r\n    .then(response => response.json())\r\n    .then(data =>\r\n      data.items.map(book => ({\r\n        title: book.volumeInfo.title,\r\n        description: book.volumeInfo.description,\r\n        author:\r\n          book.volumeInfo.authors === undefined\r\n            ? \"\"\r\n            : book.volumeInfo.authors.join(\", \"),\r\n        book_image:\r\n          book.volumeInfo.imageLinks === undefined\r\n            ? null\r\n            : book.volumeInfo.imageLinks.thumbnail,\r\n        publisher: book.volumeInfo.publisher,\r\n        primary_isbn13:\r\n          book.volumeInfo.industryIdentifiers === undefined\r\n            ? \"\"\r\n            : book.volumeInfo.industryIdentifiers[0].identifier\r\n      }))\r\n    )\r\n    .then(books => books.filter(hasImage))\r\n    .catch(console.log);\r\n};\r\n\r\nfunction hasImage(book) {\r\n  return book.book_image !== null;\r\n}\r\n","import {\r\n  CHANGE_SEARCH_FIELD,\r\n  CHANGE_DATE,\r\n  REQUEST_BOOKS_PENDING,\r\n  REQUEST_BOOKS_SUCCESS,\r\n  REQUEST_BOOKS_FAILED,\r\n  FLIP_CARD,\r\n  RESET_FLIPPED_CARDS,\r\n} from \"./constants\";\r\n\r\nimport {\r\n  fetchCurrentBestSellers,\r\n  fetchBestSellersByDate,\r\n  searchForBook\r\n} from \"./common/services\";\r\n\r\nexport const setSearchField = text => ({\r\n  type: CHANGE_SEARCH_FIELD,\r\n  payload: text\r\n});\r\n\r\nexport const updateDate = date => ({\r\n  type: CHANGE_DATE,\r\n  payload: date\r\n});\r\n\r\nexport const requestCurrentBestSellers = () => dispatch => {\r\n  dispatch({ type: REQUEST_BOOKS_PENDING });\r\n  dispatch({ type: RESET_FLIPPED_CARDS });\r\n  fetchCurrentBestSellers()\r\n    .then(data => dispatch({ type: REQUEST_BOOKS_SUCCESS, payload: data }))\r\n    .catch(error => dispatch({ type: REQUEST_BOOKS_FAILED, payload: error }));\r\n};\r\n\r\nexport const requestBestSellersByDate = date => dispatch => {\r\n  dispatch({ type: REQUEST_BOOKS_PENDING });\r\n  dispatch({ type: RESET_FLIPPED_CARDS });\r\n  fetchBestSellersByDate(date)\r\n    .then(data => dispatch({ type: REQUEST_BOOKS_SUCCESS, payload: data }))\r\n    .catch(error => dispatch({ type: REQUEST_BOOKS_FAILED, payload: error }));\r\n};\r\n\r\nexport const requestBooksBySearch = search => dispatch => {\r\n  dispatch({ type: REQUEST_BOOKS_PENDING });\r\n  dispatch({ type: RESET_FLIPPED_CARDS });\r\n  searchForBook(search)\r\n    .then(data => dispatch({ type: REQUEST_BOOKS_SUCCESS, payload: data }))\r\n    .catch(error => dispatch({ type: REQUEST_BOOKS_FAILED, payload: error }));\r\n};\r\n\r\nexport const flipCard = id => ({\r\n  type: FLIP_CARD,\r\n  payload: id\r\n});\r\n","export const CHANGE_SEARCH_FIELD = \"CHANGE_SEARCH_FIELD\";\r\n\r\nexport const CHANGE_DATE = \"CHANGE DATE\";\r\n\r\nexport const REQUEST_BOOKS_PENDING = \"REQUEST_BOOKS_PENDING\";\r\nexport const REQUEST_BOOKS_SUCCESS = \"REQUEST_BOOKS_SUCCESS\";\r\nexport const REQUEST_BOOKS_FAILED = \"REQUEST_BOOKS_FAILED\";\r\n\r\nexport const FLIP_CARD = \"FLIP_CARD\";\r\nexport const RESET_FLIPPED_CARDS = \"RESET_FLIPPED_CARDS\";\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport DatePicker from \"react-date-picker\";\r\nimport Card from \"../components/Card\";\r\nimport NavBar from \"../components/NavBar\";\r\nimport SignIn from \"../components/SignIn\";\r\nimport \"./App.css\";\r\n\r\nimport {\r\n  setSearchField,\r\n  updateDate,\r\n  requestCurrentBestSellers,\r\n  requestBestSellersByDate,\r\n  requestBooksBySearch,\r\n  flipCard\r\n} from \"../actions\";\r\n\r\nconst mapStateToProps = state => ({\r\n  searchField: state.searchBooks.searchField,\r\n  date: state.changeDate.date,\r\n  books: state.requestBooks.books,\r\n  isPending: state.requestBooks.isPending,\r\n  error: state.requestBooks.error,\r\n  isFlipped: state.updateFlippedCards.isFlipped\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onSearchChange: event => dispatch(setSearchField(event.target.value)),\r\n  onSetDate: date => dispatch(updateDate(date)),\r\n  onRequestCurrentBestSellers: () => dispatch(requestCurrentBestSellers()),\r\n  onRequestBestSellersByDate: date => dispatch(requestBestSellersByDate(date)),\r\n  onRequestBooksBySearch: search => dispatch(requestBooksBySearch(search)),\r\n  onCardFlip: id => dispatch(flipCard(id))\r\n});\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      inSearchMode: false,\r\n      route: \"home\",\r\n      isSignedIn: \"false\"\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.onRequestCurrentBestSellers();\r\n  }\r\n\r\n  onRouteChange = route => {\r\n    this.setState({ route: route });\r\n  };\r\n\r\n  onDateChange = newDate => {\r\n    this.props.onSetDate(newDate);\r\n    this.props.onRequestBestSellersByDate(newDate);\r\n  };\r\n\r\n  handleSearch = () => {\r\n    this.props.onRequestBooksBySearch(this.props.searchField.toLowerCase());\r\n  };\r\n\r\n  handleKeyPress = event => {\r\n    if (event.key === \"Enter\") {\r\n      console.log(\"hellooooo\");\r\n      this.handleSearch();\r\n      this.setState({ inSearchMode: true });\r\n    }\r\n  };\r\n\r\n  showBestSellers = () => {\r\n    this.props.onSetDate(new Date());\r\n    this.props.onRequestCurrentBestSellers();\r\n    this.setState({ inSearchMode: false });\r\n  };\r\n\r\n  getWeekNumber(date) {\r\n    // Copy date so don't modify original\r\n    date = new Date(\r\n      Date.UTC(date.getFullYear(), date.getMonth(), date.getDate())\r\n    );\r\n    // Set to nearest Thursday: current date + 4 - current day number\r\n    // Make Sunday's day number 7\r\n    date.setUTCDate(date.getUTCDate() + 4 - (date.getUTCDay() || 7));\r\n    // Get first day of year\r\n    var yearStart = new Date(Date.UTC(date.getUTCFullYear(), 0, 1));\r\n    // Calculate full weeks to nearest Thursday\r\n    var weekNo = Math.ceil(((date - yearStart) / 86400000 + 1) / 7);\r\n    // Return array of year and week number\r\n    return [date.getUTCFullYear(), weekNo];\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      onSearchChange,\r\n      onCardFlip,\r\n      books,\r\n      isPending,\r\n      date,\r\n      isFlipped\r\n    } = this.props;\r\n    const [year, week] = this.getWeekNumber(this.props.date);\r\n    return (\r\n      <div className=\"center tc w-90-ns\">\r\n        <NavBar\r\n          searchChange={onSearchChange}\r\n          handleKeyPress={this.handleKeyPress}\r\n          handleShowBestSellers={this.showBestSellers}\r\n          handleRouteChange={this.onRouteChange}\r\n        />\r\n        {this.state.route === \"home\" ? (\r\n          !this.state.inSearchMode ? (\r\n            <div className=\"mt3 mb3 mh2\">\r\n              <h3 className=\"f2-ns f3\">\r\n                New York Times Best Sellers week {week} {year}{\" \"}\r\n              </h3>\r\n              <div className=\"mv3\">\r\n                <DatePicker\r\n                  style={{ color: \"blue\" }}\r\n                  className=\"br3 pa1-ns ba b--black bw1\"\r\n                  onChange={this.onDateChange}\r\n                  value={date}\r\n                  format=\"d / M / y\"\r\n                  minDetail=\"decade\"\r\n                  maxDate={new Date()}\r\n                  required={true}\r\n                  clearIcon={null}\r\n                  showLeadingZeros={false}\r\n                />\r\n              </div>\r\n              <div className=\"flex flex-wrap justify-center\">\r\n                {isPending ? (\r\n                  <h1 className=\"f1-ns f2 mt4 mb3\">Loading...</h1>\r\n                ) : books ? (\r\n                  books.map((book, i) => (\r\n                    <Card\r\n                      key={i}\r\n                      id={i}\r\n                      isFlipped={isFlipped[i]}\r\n                      handleClick={onCardFlip}\r\n                      book={book}\r\n                    />\r\n                  ))\r\n                ) : (\r\n                  <h2 className=\"f3 mt3\">No results found :(</h2>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <h2 className=\"f2 mt3 mb2\">Search results:</h2>\r\n          )\r\n        ) : this.state.route === \"signIn\" ? (\r\n          <SignIn />\r\n        ) : (\r\n          <h1>Register</h1>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(App);\r\n","import {\r\n  CHANGE_SEARCH_FIELD,\r\n  CHANGE_DATE,\r\n  REQUEST_BOOKS_PENDING,\r\n  REQUEST_BOOKS_SUCCESS,\r\n  REQUEST_BOOKS_FAILED,\r\n  FLIP_CARD,\r\n  RESET_FLIPPED_CARDS\r\n} from \"./constants\";\r\n\r\nconst initialStateSearch = {\r\n  searchField: \"\"\r\n};\r\n\r\nexport const searchBooks = (state = initialStateSearch, action = {}) => {\r\n  switch (action.type) {\r\n    case CHANGE_SEARCH_FIELD:\r\n      return { ...state, searchField: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst initialStateDate = {\r\n  date: new Date()\r\n};\r\n\r\nexport const changeDate = (state = initialStateDate, action = {}) => {\r\n  switch (action.type) {\r\n    case CHANGE_DATE:\r\n      return { ...state, date: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst initialStateBooks = {\r\n  isPending: false,\r\n  books: [],\r\n  error: \"\"\r\n};\r\n\r\nexport const requestBooks = (state = initialStateBooks, action = {}) => {\r\n  switch (action.type) {\r\n    case REQUEST_BOOKS_PENDING:\r\n      return { ...state, isPending: true };\r\n    case REQUEST_BOOKS_SUCCESS:\r\n      return { ...state, isPending: false, books: action.payload };\r\n    case REQUEST_BOOKS_FAILED:\r\n      return { ...state, isPending: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst initialStateFlippedCards = {\r\n  isFlipped: [],\r\n  prevCardId: -1\r\n};\r\n\r\nexport const updateFlippedCards = (\r\n  state = initialStateFlippedCards,\r\n  action = {}\r\n) => {\r\n  switch (action.type) {\r\n    case FLIP_CARD:\r\n      const cardId = action.payload;\r\n      const newIsFlipped = state.isFlipped.slice();\r\n\r\n      newIsFlipped[cardId] = !newIsFlipped[cardId];\r\n\r\n      if (state.prevCardId !== -1 && cardId !== state.prevCardId) {\r\n        newIsFlipped[state.prevCardId] = !newIsFlipped[cardId];\r\n      }\r\n      return { ...state, isFlipped: newIsFlipped, prevCardId: cardId };\r\n    case RESET_FLIPPED_CARDS:\r\n      return { ...state, isFlipped: [], prevCardId: -1}\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, combineReducers } from \"redux\";\r\nimport { createLogger } from \"redux-logger\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport \"./index.css\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport App from \"./containers/App\";\r\nimport {\r\n  searchBooks,\r\n  requestBooks,\r\n  changeDate,\r\n  updateFlippedCards\r\n} from \"./reducers\";\r\nimport \"tachyons\";\r\n\r\nconst logger = createLogger();\r\n\r\nconst rootReducer = combineReducers({\r\n  searchBooks,\r\n  requestBooks,\r\n  changeDate,\r\n  updateFlippedCards\r\n});\r\nconst store = createStore(\r\n  rootReducer,\r\n  applyMiddleware(thunkMiddleware, logger)\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}