{"version":3,"sources":["components/Card.js","components/SearchBox.js","components/NavBar.js","common/services.js","actions.js","constants.js","containers/App.js","reducers.js","index.js"],"names":["Card","_ref","id","isFlipped","handleClick","book","title","description","book_image","rank","author","publisher","rank_last_week","weeks_on_list","primary_isbn13","amazon_product_url","react_default","a","createElement","className","onClick","react_card_flip_default","key","src","alt","href","target","rel","SearchBox","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","textInput","React","createRef","current","focus","_this$props","handleKeyPress","searchChange","type","placeholder","onChange","onKeyPress","event","ref","Component","Example","toggle","bind","assertThisInitialized","state","isOpen","setState","handleShowBestSellers","Navbar","color","light","expand","NavbarBrand","NavbarToggler","Collapse","navbar","Nav","NavItem","components_SearchBox","nyt_apiKey","fetchCurrentBestSellers","fetch","concat","then","response","json","data","results","books","dateToString","date","year","getFullYear","month","getMonth","day","getDate","hasImage","requestBestSellersByDate","dispatch","dateString","fetchBestSellersByDate","payload","catch","error","requestBooksBySearch","search","items","map","volumeInfo","undefined","authors","join","imageLinks","thumbnail","industryIdentifiers","identifier","filter","console","log","searchForBook","App","onDateChange","newDate","onSetDate","onRequestBestSellersByDate","handleSearch","onRequestBooksBySearch","searchField","toLowerCase","inSearchMode","showBestSellers","Date","onRequestCurrentBestSellers","UTC","setUTCDate","getUTCDate","getUTCDay","yearStart","getUTCFullYear","weekNo","Math","ceil","onSearchChange","onCardFlip","isPending","_this$getWeekNumber","getWeekNumber","_this$getWeekNumber2","slicedToArray","week","NavBar_Example","entry_default","style","value","format","minDetail","maxDate","required","clearIcon","showLeadingZeros","i","components_Card","connect","searchBooks","changeDate","requestBooks","updateFlippedCards","updateDate","flipCard","initialStateSearch","initialStateDate","initialStateBooks","initialStateFlippedCards","prevCardId","logger","createLogger","rootReducer","combineReducers","arguments","length","action","objectSpread","cardId","newIsFlipped","slice","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","es","src_containers_App","document","getElementById"],"mappings":"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","file":"static/js/main.4d68c7be.chunk.js","sourcesContent":["import React from \"react\";\r\nimport ReactCardFlip from \"react-card-flip\";\r\n\r\nconst Card = ({ id, isFlipped, handleClick, book }) => {\r\n  const {\r\n    title,\r\n    description,\r\n    book_image,\r\n    rank,\r\n    author,\r\n    publisher,\r\n    rank_last_week,\r\n    weeks_on_list,\r\n    primary_isbn13,\r\n    amazon_product_url\r\n  } = book;\r\n\r\n  return (\r\n    <div\r\n      id={id}\r\n      className=\"bg-light-gray br3 ba b--black ma2 w-70 w-40-m w5-l shadow-5 grow pointer\"\r\n      onClick={() => handleClick(id)}\r\n    >\r\n      <ReactCardFlip isFlipped={isFlipped}>\r\n        <div key=\"front\">\r\n          <img\r\n            className=\"br3 br--top w-100\"\r\n            src={book_image}\r\n            alt=\"book cover\"\r\n          />\r\n          <div className=\"pa2\">\r\n            <h2 className=\"mv0\">\r\n              <b>{rank && \"#\" + rank + \" \"}</b>\r\n              {title}\r\n            </h2>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"br3 br--top pa3\" key=\"back\">\r\n          <div className=\"pa2\">\r\n            <h1 className=\"mv0\">\r\n              <b>{rank && \"#\" + rank + \" \"}</b>\r\n              {title}\r\n            </h1>\r\n            <h3 className=\"mv1\">By<b> {author}</b></h3>\r\n            <hr />\r\n            <p>{description}</p>\r\n            <hr />\r\n            <div className=\"tl\">\r\n              {rank_last_week ? (\r\n                <div>\r\n                  <b>Rank last week</b>: {rank_last_week}\r\n                </div>\r\n              ) : null}\r\n              <b>Weeks on list:</b> {weeks_on_list} <br />\r\n              <b>Publisher:</b> {publisher} <br />\r\n              <b>ISBN:</b> {primary_isbn13} <br />\r\n              <br />\r\n              <a\r\n                href={amazon_product_url}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                Get it on Amazon\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </ReactCardFlip>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\n\r\nclass SearchBox extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.textInput = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.textInput.current.focus();\r\n  }\r\n\r\n  render() {\r\n    const { handleKeyPress, searchChange } = this.props;\r\n    return (\r\n      <input\r\n        className=\"bg-lightest-blue br3 ba b--black bw1 pa1 mt3 mt2-l shadow\"\r\n        type=\"search\"\r\n        placeholder=\"Search for books\"\r\n        onChange={searchChange}\r\n        onKeyPress={event => handleKeyPress(event)}\r\n        ref={this.textInput}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBox;\r\n","import React from \"react\";\r\nimport {\r\n  Collapse,\r\n  Navbar,\r\n  NavbarToggler,\r\n  NavbarBrand,\r\n  Nav,\r\n  NavItem,\r\n} from \"reactstrap\";\r\nimport SearchBox from \"./SearchBox\";\r\n\r\nexport default class Example extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n    this.state = {\r\n      isOpen: false\r\n    };\r\n  }\r\n  toggle() {\r\n    this.setState({\r\n      isOpen: !this.state.isOpen\r\n    });\r\n  }\r\n  render() {\r\n    const { searchChange, handleKeyPress, handleShowBestSellers } = this.props;\r\n    return (\r\n      <div>\r\n        <Navbar color=\"muted\" light expand=\"lg\">\r\n          <NavbarBrand href=\"/\">\r\n            <h1 className=\"f-subheadline-ns f1 ma1 ml3 ml3-l mr1-l mr3-m\">Booktropolis</h1>\r\n          </NavbarBrand>\r\n          <NavbarToggler className=\"mt3\" onClick={this.toggle} />\r\n          <Collapse isOpen={this.state.isOpen} navbar>\r\n            <Nav className=\"ml-auto center w-auto\" navbar>\r\n              <NavItem onClick={handleShowBestSellers}>\r\n                <h1 className=\"f2-ns f3 ma0 bb bw1 pointer\">Best sellers</h1>\r\n              </NavItem>\r\n              <NavItem className=\"mt-auto ml3-l mr2-l\">\r\n                <h1 className=\"f2-ns f3 ma0 bb bw1 pointer\">Favorites</h1>\r\n              </NavItem>\r\n            </Nav>\r\n            <Nav className=\"ml-auto center\" navbar>\r\n              <NavItem>\r\n                <SearchBox\r\n                  searchChange={searchChange}\r\n                  handleKeyPress={handleKeyPress}\r\n                />\r\n              </NavItem>\r\n              <NavItem>\r\n                <h1 className=\"f3-ns f4 ma0 ml3-ns ml2 mt2\">Register</h1>\r\n              </NavItem>\r\n              <NavItem>\r\n                <h1 className=\"f3-ns f4 ma0 ml3-ns ml2 mt2\">Login</h1>\r\n              </NavItem>\r\n            </Nav>\r\n          </Collapse>\r\n        </Navbar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","/*************************** \r\n NEW YORK TIMES API\r\n****************************/\r\nconst nyt_apiKey = \"IoNgBtPcB2BAFBogGs0w6VxskM9amKDP\";\r\n\r\nexport const fetchCurrentBestSellers = () => {\r\n  return fetch(\r\n    `https://api.nytimes.com/svc/books/v3/lists/current/hardcover-fiction.json?api-key=${nyt_apiKey}`\r\n  )\r\n    .then(response => response.json())\r\n    .then(data => data.results.books);\r\n};\r\n\r\nexport const fetchBestSellersByDate = date => {\r\n  if (!date) return fetchCurrentBestSellers();\r\n\r\n  const dateString = dateToString(date);\r\n  return fetch(\r\n    `https://api.nytimes.com/svc/books/v3/lists/${dateString}/hardcover-fiction.json?api-key=${nyt_apiKey}`\r\n  )\r\n    .then(response => response.json())\r\n    .then(data => data.results.books);\r\n};\r\n\r\nconst dateToString = date => {\r\n  const year = date.getFullYear();\r\n  // increment month by one because getMonth() starts from zero\r\n  const month =\r\n    date.getMonth() < 10 ? \"0\" + (date.getMonth() + 1) : date.getMonth() + 1;\r\n  const day = date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate();\r\n  return `${year}-${month}-${day}`;\r\n};\r\n\r\n/*************************** \r\n GOOGLE BOOKS API\r\n****************************/\r\nconst google_apiKey = \"AIzaSyB9wQyJ2N2x9z15nzvO5g-9o-eV_ZLkOkI\";\r\n\r\nexport const searchForBook = search => {\r\n  const maxResult = 20;\r\n  return fetch(\r\n    `https://www.googleapis.com/books/v1/volumes?q=${search}&maxResults=${maxResult}&key=${google_apiKey}`\r\n  )\r\n    .then(response => response.json())\r\n    .then(data =>\r\n      data.items.map(book => ({\r\n        title: book.volumeInfo.title,\r\n        description: book.volumeInfo.description,\r\n        author:\r\n          book.volumeInfo.authors === undefined\r\n            ? \"\"\r\n            : book.volumeInfo.authors.join(\", \"),\r\n        book_image:\r\n          book.volumeInfo.imageLinks === undefined\r\n            ? null\r\n            : book.volumeInfo.imageLinks.thumbnail,\r\n        publisher: book.volumeInfo.publisher,\r\n        primary_isbn13:\r\n          book.volumeInfo.industryIdentifiers === undefined\r\n            ? \"\"\r\n            : book.volumeInfo.industryIdentifiers[0].identifier\r\n      }))\r\n    )\r\n    .then(books => books.filter(hasImage))\r\n    .catch(console.log);\r\n};\r\n\r\nfunction hasImage(book) {\r\n  return book.book_image !== null;\r\n}\r\n","import {\r\n  CHANGE_SEARCH_FIELD,\r\n  CHANGE_DATE,\r\n  REQUEST_BOOKS_PENDING,\r\n  REQUEST_BOOKS_SUCCESS,\r\n  REQUEST_BOOKS_FAILED,\r\n  FLIP_CARD,\r\n  RESET_FLIPPED_CARDS,\r\n} from \"./constants\";\r\n\r\nimport {\r\n  fetchCurrentBestSellers,\r\n  fetchBestSellersByDate,\r\n  searchForBook\r\n} from \"./common/services\";\r\n\r\nexport const setSearchField = text => ({\r\n  type: CHANGE_SEARCH_FIELD,\r\n  payload: text\r\n});\r\n\r\nexport const updateDate = date => ({\r\n  type: CHANGE_DATE,\r\n  payload: date\r\n});\r\n\r\nexport const requestCurrentBestSellers = () => dispatch => {\r\n  dispatch({ type: REQUEST_BOOKS_PENDING });\r\n  dispatch({ type: RESET_FLIPPED_CARDS });\r\n  fetchCurrentBestSellers()\r\n    .then(data => dispatch({ type: REQUEST_BOOKS_SUCCESS, payload: data }))\r\n    .catch(error => dispatch({ type: REQUEST_BOOKS_FAILED, payload: error }));\r\n};\r\n\r\nexport const requestBestSellersByDate = date => dispatch => {\r\n  dispatch({ type: REQUEST_BOOKS_PENDING });\r\n  dispatch({ type: RESET_FLIPPED_CARDS });\r\n  fetchBestSellersByDate(date)\r\n    .then(data => dispatch({ type: REQUEST_BOOKS_SUCCESS, payload: data }))\r\n    .catch(error => dispatch({ type: REQUEST_BOOKS_FAILED, payload: error }));\r\n};\r\n\r\nexport const requestBooksBySearch = search => dispatch => {\r\n  dispatch({ type: REQUEST_BOOKS_PENDING });\r\n  dispatch({ type: RESET_FLIPPED_CARDS });\r\n  searchForBook(search)\r\n    .then(data => dispatch({ type: REQUEST_BOOKS_SUCCESS, payload: data }))\r\n    .catch(error => dispatch({ type: REQUEST_BOOKS_FAILED, payload: error }));\r\n};\r\n\r\nexport const flipCard = id => ({\r\n  type: FLIP_CARD,\r\n  payload: id\r\n});\r\n","export const CHANGE_SEARCH_FIELD = \"CHANGE_SEARCH_FIELD\";\r\n\r\nexport const CHANGE_DATE = \"CHANGE DATE\";\r\n\r\nexport const REQUEST_BOOKS_PENDING = \"REQUEST_BOOKS_PENDING\";\r\nexport const REQUEST_BOOKS_SUCCESS = \"REQUEST_BOOKS_SUCCESS\";\r\nexport const REQUEST_BOOKS_FAILED = \"REQUEST_BOOKS_FAILED\";\r\n\r\nexport const FLIP_CARD = \"FLIP_CARD\";\r\nexport const RESET_FLIPPED_CARDS = \"RESET_FLIPPED_CARDS\";\r\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport DatePicker from \"react-date-picker\";\nimport Card from \"../components/Card\";\nimport NavBar from \"../components/NavBar\"\n\nimport \"./App.css\";\n\nimport {\n  setSearchField,\n  updateDate,\n  requestCurrentBestSellers,\n  requestBestSellersByDate,\n  requestBooksBySearch,\n  flipCard\n} from \"../actions\";\n\nconst mapStateToProps = state => ({\n  searchField: state.searchBooks.searchField,\n  date: state.changeDate.date,\n  books: state.requestBooks.books,\n  isPending: state.requestBooks.isPending,\n  error: state.requestBooks.error,\n  isFlipped: state.updateFlippedCards.isFlipped\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSearchChange: event => dispatch(setSearchField(event.target.value)),\n  onSetDate: date => dispatch(updateDate(date)),\n  onRequestCurrentBestSellers: () => dispatch(requestCurrentBestSellers()),\n  onRequestBestSellersByDate: date => dispatch(requestBestSellersByDate(date)),\n  onRequestBooksBySearch: search => dispatch(requestBooksBySearch(search)),\n  onCardFlip: id => dispatch(flipCard(id))\n});\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      inSearchMode: false\n    };\n  }\n  componentDidMount() {\n    this.props.onRequestCurrentBestSellers();\n  }\n\n  onDateChange = newDate => {\n    this.props.onSetDate(newDate);\n    this.props.onRequestBestSellersByDate(newDate);\n  };\n\n  handleSearch = () => {\n    this.props.onRequestBooksBySearch(this.props.searchField.toLowerCase());\n  };\n\n  handleKeyPress = event => {\n    if (event.key === \"Enter\") {\n      console.log(\"hellooooo\");\n      this.handleSearch();\n      this.setState({ inSearchMode: true });\n    }\n  };\n\n  showBestSellers = () => {\n    this.props.onSetDate(new Date());\n    this.props.onRequestCurrentBestSellers();\n    this.setState({ inSearchMode: false });\n  };\n\n  getWeekNumber(date) {\n    // Copy date so don't modify original\n    date = new Date(\n      Date.UTC(date.getFullYear(), date.getMonth(), date.getDate())\n    );\n    // Set to nearest Thursday: current date + 4 - current day number\n    // Make Sunday's day number 7\n    date.setUTCDate(date.getUTCDate() + 4 - (date.getUTCDay() || 7));\n    // Get first day of year\n    var yearStart = new Date(Date.UTC(date.getUTCFullYear(), 0, 1));\n    // Calculate full weeks to nearest Thursday\n    var weekNo = Math.ceil(((date - yearStart) / 86400000 + 1) / 7);\n    // Return array of year and week number\n    return [date.getUTCFullYear(), weekNo];\n  }\n\n  render() {\n    const {\n      onSearchChange,\n      onCardFlip,\n      books,\n      isPending,\n      date,\n      isFlipped\n    } = this.props;\n    const [year, week] = this.getWeekNumber(this.props.date);\n    return (\n      <div className=\"center tc w-90-ns\">\n        <NavBar \n          searchChange={onSearchChange}\n          handleKeyPress={this.handleKeyPress}\n          handleShowBestSellers={this.showBestSellers}\n        />\n        {/*<h1\n          className=\"f-headline-ns f-subheadline pointer mh3 mb4-ns mb1 mt2-ns mt4\"\n          onClick={this.resetStartPage}\n        >\n          Booktropolis\n        </h1>\n        \n        <div className=\"flex justify-center mb1\">\n          <div className=\"\">\n            <button\n              className=\"b--none f5-ns f7 link ph3 pv2 bg-green br3 shadow ma2 b pointer grow\"\n              onClick={this.resetStartPage}\n            >\n              BEST SELLERS\n            </button>\n            <button className=\"b--none f5-ns f7 link dim ph3 pv2 bg-moon-gray br3 shadow ma2 b pointer grow\">\n              FAVORITES\n            </button>\n            <button className=\"b--none f5-ns f7 link ph3 pv2 bg-green br3 shadow ma2 b pointer grow\">\n              REGISTER\n            </button>\n          </div>\n        </div>\n        <div className=\"justify-center\">\n          <SearchBox\n            searchChange={onSearchChange}\n            handleKeyPress={this.handleKeyPress}\n          />\n        </div>\n        */}\n        {!this.state.inSearchMode ? (\n          <div className=\"mt3 mb3 mh2\">\n            <h3 className=\"f2-ns f3\">\n              New York Times Best Sellers week {week} {year}{\" \"}\n            </h3>\n            <div className=\"mt2\">\n              <DatePicker\n                style={{ color: \"blue\"}}\n                className=\"br3 pa1-ns ba b--black bw1\"\n                onChange={this.onDateChange}\n                value={date}\n                format=\"d / M / y\"\n                minDetail=\"decade\"\n                maxDate={new Date()}\n                required={true}\n                clearIcon={null}\n                showLeadingZeros={false}\n              />\n            </div>\n          </div>\n        ) : <h2 className=\"f2 mt3 mb2\">\n        Search results:\n      </h2>}\n        <div className=\"flex flex-wrap justify-center\">\n          {isPending ? (\n            <h1 className=\"f1-ns f2 mt4 mb3\">Loading...</h1>\n          ) : books ? (\n            books.map((book, i) => (\n              <Card\n                key={i}\n                id={i}\n                isFlipped={isFlipped[i]}\n                handleClick={onCardFlip}\n                book={book}\n              />\n            ))\n          ) : <h2 className=\"f3 mt3\">No results found :(</h2>}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","import {\r\n  CHANGE_SEARCH_FIELD,\r\n  CHANGE_DATE,\r\n  REQUEST_BOOKS_PENDING,\r\n  REQUEST_BOOKS_SUCCESS,\r\n  REQUEST_BOOKS_FAILED,\r\n  FLIP_CARD,\r\n  RESET_FLIPPED_CARDS\r\n} from \"./constants\";\r\n\r\nconst initialStateSearch = {\r\n  searchField: \"\"\r\n};\r\n\r\nexport const searchBooks = (state = initialStateSearch, action = {}) => {\r\n  switch (action.type) {\r\n    case CHANGE_SEARCH_FIELD:\r\n      return { ...state, searchField: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst initialStateDate = {\r\n  date: new Date()\r\n};\r\n\r\nexport const changeDate = (state = initialStateDate, action = {}) => {\r\n  switch (action.type) {\r\n    case CHANGE_DATE:\r\n      return { ...state, date: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst initialStateBooks = {\r\n  isPending: false,\r\n  books: [],\r\n  error: \"\"\r\n};\r\n\r\nexport const requestBooks = (state = initialStateBooks, action = {}) => {\r\n  switch (action.type) {\r\n    case REQUEST_BOOKS_PENDING:\r\n      return { ...state, isPending: true };\r\n    case REQUEST_BOOKS_SUCCESS:\r\n      return { ...state, isPending: false, books: action.payload };\r\n    case REQUEST_BOOKS_FAILED:\r\n      return { ...state, isPending: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst initialStateFlippedCards = {\r\n  isFlipped: [],\r\n  prevCardId: -1\r\n};\r\n\r\nexport const updateFlippedCards = (\r\n  state = initialStateFlippedCards,\r\n  action = {}\r\n) => {\r\n  switch (action.type) {\r\n    case FLIP_CARD:\r\n      const cardId = action.payload;\r\n      const newIsFlipped = state.isFlipped.slice();\r\n\r\n      newIsFlipped[cardId] = !newIsFlipped[cardId];\r\n\r\n      if (state.prevCardId !== -1 && cardId !== state.prevCardId) {\r\n        newIsFlipped[state.prevCardId] = !newIsFlipped[cardId];\r\n      }\r\n      return { ...state, isFlipped: newIsFlipped, prevCardId: cardId };\r\n    case RESET_FLIPPED_CARDS:\r\n      return { ...state, isFlipped: [], prevCardId: -1}\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, combineReducers } from \"redux\";\nimport { createLogger } from \"redux-logger\";\nimport thunkMiddleware from \"redux-thunk\";\nimport \"./index.css\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport App from \"./containers/App\";\nimport {\n  searchBooks,\n  requestBooks,\n  changeDate,\n  updateFlippedCards\n} from \"./reducers\";\nimport \"tachyons\";\n\nconst logger = createLogger();\n\nconst rootReducer = combineReducers({\n  searchBooks,\n  requestBooks,\n  changeDate,\n  updateFlippedCards\n});\nconst store = createStore(\n  rootReducer,\n  applyMiddleware(thunkMiddleware, logger)\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}